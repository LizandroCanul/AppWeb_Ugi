<div class="search-container">
  <div class="search-bar">
    <input [(ngModel)]="searchTerm" (input)="onSearch()" placeholder="Buscar en todos los campos...">
  </div>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Siglas del Ente público</th>
          <th>Nombre del ente público</th>
          <th>Número de la UBP</th> 
          <th>Nombre de la UBP</th>
          <th>Responsable</th>
          <th>Beneficio otorgado</th>
          <th>Tipo de beneficio</th>
          <th>Método de pago</th>
          <th>Importe Monetario</th>
          <th>Origen del recurso</th>
          <th>Razón Social</th>
          <th>RFC</th>
          <th>Dirección</th>
          <th>Código Postal</th>
          <th>Entidad Federativa</th>
          <th>Municipio</th>
          <th>Localidad</th>
          <th>Representante Legal</th>
          <th>CURP del Representante</th>
          <th>Contacto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of displayedData; let i = index">
          <td>
            <span *ngIf="editingIndex !== i">{{item.siglasEntPublico}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.siglasEntPublico">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.nombreEntPublico}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.nombreEntPublico">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.numeroUBP}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.numeroUBP">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.nombreUBP}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.nombreUBP">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.responsable}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.responsable">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.beneficioOtorgado}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.beneficioOtorgado">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.tipoBeneficio}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.tipoBeneficio">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.metodoPago}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.metodoPago">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{"$" + item.importeMonetario}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.importeMonetario" type="number">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.origenRecurso}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.origenRecurso">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.rsc}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.rsc">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.rfc}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.rfc">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.direccionE}} {{item.tipoAsentamientoE}}. {{item.nombreAsentamientoE}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.direccionE">
            <input *ngIf="editingIndex === i" [(ngModel)]="item.tipoAsentamientoE">
            <input *ngIf="editingIndex === i" [(ngModel)]="item.nombreAsentamientoE">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.codigoPostalE}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.codigoPostalE">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.entidadFederativaE}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.entidadFederativaE">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.municipioE}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.municipioE">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.localidadE}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.localidadE">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.nombresDependiente}} {{item.apellidoPaternoDependiente}} {{item.apellidoMaternoDependiente}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.nombresDependiente" placeholder="Nombres">
            <input *ngIf="editingIndex === i" [(ngModel)]="item.apellidoPaternoDependiente" placeholder="Apellido Paterno">
            <input *ngIf="editingIndex === i" [(ngModel)]="item.apellidoMaternoDependiente" placeholder="Apellido Materno">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.curp}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.curp">
          </td>
          <td>
            <span *ngIf="editingIndex !== i">{{item.Contacto}}</span>
            <input *ngIf="editingIndex === i" [(ngModel)]="item.Contacto">
          </td>
          <td class="actions-column">
            <button *ngIf="editingIndex !== i" class="edit-btn" (click)="startEditing(i)">Editar</button>
            <button *ngIf="editingIndex === i" class="save-btn" (click)="saveEdit(item)">Guardar</button>
            <button *ngIf="editingIndex === i" class="cancel-btn" (click)="cancelEdit()">Cancelar</button>
            <button class="delete-btn" (click)="deleteItem(i)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage === 1">Anterior</button>
    <span>Página {{currentPage}} de {{totalPages}}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Siguiente</button>
  </div>
</div>